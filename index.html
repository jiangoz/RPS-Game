<!doctype html>

<html lang="en">

<head>
    <meta charset="utf-8">

    <title>RPS Game</title>

    <link rel="stylesheet" href="#">

</head>

<body>
    <script>

        // computer will randomly choose RPS
        function computerPlay() {
            let randNum = Math.random();
            if (randNum <= 0.33) {
                return "Rock";
            } else if (randNum <= 0.66) {
                return "Paper";
            } else {
                return "Scissors";
            }
        }

        // plays a single round of RPS
        function matchRound(playerChoice, computerChoice) {

            let player = playerChoice.toLowerCase();
            let computer = computerChoice.toLowerCase();

            if (player === "rock") {
                switch (computer) {
                    case "rock": return "Both had Rock. It's a tie!";
                    case "paper": return "Computer's Paper beats Player's Rock. Computer wins!";
                    case "scissors": return "Player's Rock beats Computer's Scissors. Player wins!";
                }
            }
            else if (player === "paper") {
                switch (computer) {
                    case "rock": return "Player's Paper beats Computer's Rock. Player wins!";
                    case "paper": return "Both had Paper. It's a tie!";
                    case "scissors": return "Computer's Scissors beats Player's Paper. Computer wins!";
                }
            }
            else if (player === "scissors") {
                switch (computer) {
                    case "rock": return "Computer's Rock beats Player's Scissors. Computer wins!";
                    case "paper": return "Player's Scissors beats Computer's Paper. Player wins!";
                    case "scissors": return "Both had Scissors. It's a tie!";
                }
            }
            return `Error: Player gave invalid input of "${playerChoice}"`;
        }

        //play the game until player quits
        game();

        function game() {

            while (true) {
                let playerChoice = prompt("Enter Your Choice: Rock | Paper | Scissors | QUIT");
                playerChoice = playerChoice.toLowerCase();
                if (playerChoice === "quit") {
                    console.log("Game has ended.");
                    alert("Game has ended.");
                    break;
                }
                result = matchRound(playerChoice, computerPlay());
                console.log(result);
                alert(result);
            }

        }

    </script>
</body>

</html>